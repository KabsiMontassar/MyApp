<div class="planning-dashboard">
  <!-- Glassmorphic Header -->
  <div class="dashboard-header">
    <div class="header-content">
      <h1 class="dashboard-title">
        <span class="title-text">Employee Planning</span>
        <span class="title-highlight"></span>
      </h1>
      <div class="header-actions">
        <div class="week-navigation">
          <button class="nav-button" (click)="previousWeek()">
            <svg viewBox="0 0 24 24" width="20" height="20">
              <path d="M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"/>
            </svg>
          </button>
          <button class="today-button" (click)="resetToCurrentWeek()">Today</button>
          <button class="nav-button" (click)="nextWeek()">
            <svg viewBox="0 0 24 24" width="20" height="20">
              <path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/>
            </svg>
          </button>
        </div>
        
        <div class="search-container">
          <div class="search-bar">
            <svg class="search-icon" viewBox="0 0 24 24" width="20" height="20">
              <path d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 0 0 1.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 0 0-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 0 0 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
            </svg>
            <input 
              type="text" 
              placeholder="Search employees or shifts..." 
              aria-label="Search planning"
              class="search-input">
            <button class="clear-search">
              <svg viewBox="0 0 24 24" width="18" height="18">
                <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>
    
    <div class="date-range">
      {{ getDateRange() }}
    </div>
  </div>
  
  <!-- Planning Table -->
  <div class="planning-container">
    <div class="table-scroll">
      <table class="planning-table">
        <thead>
          <tr>
            <th class="employee-header">
              <div class="header-content">
                <span>Employee</span>
                <svg viewBox="0 0 24 24" width="16" height="16">
                  <path d="M12 5.83L15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9 12 5.83zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15 12 18.17z"/>
                </svg>
              </div>
            </th>
            <th *ngFor="let day of daysOfWeek" class="day-header">
              <div class="day-name">{{ day | date: 'EEE' }}</div>
              <div class="day-date">{{ day | date: 'd' }}</div>
              <div class="day-month">{{ day | date: 'MMM' }}</div>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let emp of employees" class="employee-row">
            <td class="employee-cell">
              <div class="employee-info">
                <div class="employee-avatar">
                  {{ emp.prenom.charAt(0) }}{{ emp.nom.charAt(0) }}
                </div>
                <div class="employee-details">
                  <div class="employee-name">{{ emp.prenom }} {{ emp.nom }}</div>
                  <div class="employee-position">{{ emp.typePoste }}</div>
                </div>
              </div>
            </td>
            
            <td *ngFor="let day of daysOfWeek" class="shift-cell">
              <div class="shift-container">
                <ng-container *ngFor="let p of getEmployeePlanningForDay(emp.idEmployee, day)">
                  <div class="shift-card" [ngClass]="getShiftTypeClass(p.typePlanning)">
                    <div class="shift-time">
                      {{ p.dateDebut | date:'HH:mm' }}â€“{{ p.dateFin | date:'HH:mm' }}
                    </div>
                    <div class="shift-type">{{ p.typePlanning }}</div>
                  </div>
                </ng-container>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>